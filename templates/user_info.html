{% extends 'base.html'%}

{% block title %}Register{% endblock %}

{% block content %}
<section class="vh-100" style="background-color: #9de2ff; border-radius: 15px;">
  <div class="container py-5 h-90">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col col-md-9 col-lg-7 col-xl-5">
        <div class="card" style="border-radius: 15px;">
          <div class="card-body p-4">
            <div class="d-flex text-black">
              <div class="flex-shrink-0">
                <img src="https://forum.truckersmp.com/uploads/monthly_2020_07/imported-photo-232294.thumb.png.7cce937a5a814966b981d5d7efd8d5c4.png"
                  alt="Generic placeholder image" class="img-fluid"
                  style="width: 180px; border-radius: 10px;">
              </div>
              <div class="flex-grow-1 ms-3">
                <h5 class="mb-1">{{user.first_name}} {{user.last_name}}</h5>
                <p class="mb-2 pb-1" style="color: #2b2a2a;">{{user.email}}</p>
                <div class="d-flex justify-content-start rounded-3 p-2 mb-2"
                  style="background-color: #efefef;">
                  <div>
                    <p class="small text-muted mb-1">Feedback</p>
                    <p class="mb-0">41</p>
                  </div>
                  </div>
                <div class="d-flex pt-1">
                    <p class="mb-2 pb-1" style="color: #2b2a2a;">{{user.username}}</p>
                    </div>
                    {% if session['user_login'] == user.username %}
                    <form>
                    <div class="d-flex pt-1">
                        <button formmethod="get" formaction="/users/{{user.username}}/feedback/add" type="submit" class="btn btn-outline-primary me-1 flex-grow-1">Add</button>
                        <button formmethod="post" formaction="/users/{{user.username}}/delete" type="submit" class="btn btn-primary flex-grow-1">Delete</button>
                      </div>
                    </form>
                    {% endif %}
              </div>
              
            </div>
          </div>
        </div>
      </div>
      
    </div>
    

        
        <div class="container py-5 h-100">
          <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col col-xl-10">
                {% for u in user.feedback %}
              <div class="card mb-5" style="border-radius: 15px;">
                <div class="card-body p-4">
                  <h3 class="mb-3">{{u.title}}</h3>
                  <span> <p> {{u.content}}</p> </span>
                  
                  <hr class="my-4">
                  <div class="d-flex justify-content-start align-items-center">
                    {% if session['user_login'] == u.username %}
                    <form>
                    <button formmethod="get" formaction="/feedback/{{u.id}}/update" class="btn btn-outline-primary">Edit</button>
                    <button formmethod="post" formaction="/feedback/{{u.id}}/delete" class="btn btn-primary">Delete</button>
                    </form>
                    {% endif %}
                    
                   
                  </div>
                 
                </div>
               
              </div>
              {% endfor %}
              
                </div>
                
              </div>
              
            </div>
            
          </div>
         
        </div>
        
      
  </div>
</section>


{% endblock %}